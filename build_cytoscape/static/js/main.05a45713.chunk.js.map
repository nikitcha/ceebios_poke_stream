{"version":3,"sources":["CustomDot.js","index.js"],"names":["Cytoscape","use","COSEBilkent","DagreLayout","ColaLayout","CustomDot","props","componentDidMount","setState","data","setUpListeners","cy","on","event","Streamlit","setComponentValue","target","_private","elements","args","setFrameHeight","CytoscapeComponent","normalizeElements","this","layout","name","style","width","height","stylesheet","selector","shape","label","React","Component","withStreamlitConnection","engine","Styletron","ReactDOM","render","StrictMode","value","theme","LightTheme","document","getElementById"],"mappings":"kVAaAA,IAAUC,IAAIC,KACdF,IAAUC,IAAIE,KACdH,IAAUC,IAAIG,KAEd,IAiBMC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAIRC,kBAAoB,WAClB,EAAKC,SAAS,CACZC,KAAK,EAAKH,MAAMG,OAElB,EAAKC,kBATY,EAYnBA,eAAiB,WACf,EAAKC,GAAGC,GAAG,QAAS,QAAQ,SAACC,GAG3BC,IAAUC,kBAAkB,CAACF,EAAMG,OAAOC,SAASR,KAAtB,MAAqC,EAAKS,eAdzE,EAAKA,SAAWZ,EAAMa,KAAKD,SAFV,E,0CAoBnB,WAAU,IAAD,OACPJ,IAAUM,eAAe,SAGzB,OACE,oCACE,kBAAC,IAAD,CACAT,GAAI,SAACA,GAAQ,EAAKA,GAAKA,GACvBO,SAAUG,IAAmBC,kBAAkBC,KAAKL,UACpDM,OAPW,CAAEC,KAAM,gBAQnBC,MAAQ,CAAEC,MAAO,OAAQC,OAAQ,SACjCC,WAAY,CACV,CACEC,SAAU,OACVJ,MAAO,CAACC,MAAO,GAAGC,OAAQ,GAAGG,MAAO,UAAUC,MAAO,aAEvD,CACEF,SAAU,YACVJ,MAAO,CAAC,mBAAmB,YAAY,iBAAkB,QAAQ,eAAe,IAElF,CACEI,SAAU,uBACVJ,MAAO,CAAC,mBAAoB,UAAU,eAAe,YAEvD,CACEI,SAAU,qBACVJ,MAAO,CAAC,mBAAoB,UAAU,eAAgB,YAExD,CACEI,SAAU,sBACVJ,MAAO,CAAC,mBAAoB,UAAU,eAAgB,YAExD,CACEI,SAAU,qBACVJ,MAAO,CAAC,mBAAoB,UAAU,eAAgB,YAExD,CACEI,SAAU,qBACVJ,MAAO,CAAC,mBAAoB,YAE9B,CACEI,SAAU,sBACVJ,MAAO,CAAC,mBAAoB,YAE9B,CACEI,SAAU,uBACVJ,MAAO,CAACK,MAAO,YAAY,mBAAoB,YAEjD,CACED,SAAU,wBACVJ,MAAO,CAACK,MAAO,WAAW,mBAAoB,YAEhD,CACED,SAAU,qBACVJ,MAAO,CAACK,MAAO,YAAY,mBAAoB,YAEjD,CACED,SAAU,OACVJ,MAAO,CACLC,MAAM,Y,GAhFIM,IAAMC,WA2FfC,cAAwB9B,G,oCCpHjC+B,EAAS,IAAIC,IAGnBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAmBC,MAAOL,GACxB,kBAAC,IAAD,CAAeM,MAAOC,KACpB,kBAAC,EAAD,SAINC,SAASC,eAAe,W","file":"static/js/main.05a45713.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport {\r\n  ComponentProps,\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\"\r\nimport CytoscapeComponent from 'react-cytoscapejs'\r\nimport Cytoscape from 'cytoscape';\r\nimport COSEBilkent from 'cytoscape-cose-bilkent';\r\nimport DagreLayout from 'cytoscape-dagre';\r\nimport ColaLayout from 'cytoscape-cola';\r\n// https://designrevision.com/docs/shards-react/getting-started\r\n\r\nCytoscape.use(COSEBilkent);\r\nCytoscape.use(DagreLayout);\r\nCytoscape.use(ColaLayout);\r\n\r\nconst COLORS = {\r\n  SPECIES:\"#fb2056\",\r\n  GENUS:\"#fc8f5b\",\r\n  FAMILY:\"#ffd055\",\r\n  ORDER:\"#8dd58c\",\r\n  CLASS:\"#38c9b1\",\r\n  PHYLUM:\"#1798c3\",\r\n  KINGDOM:\"#182573\",\r\n}\r\n\r\n\r\nconst LAYOUTOPTIONS = {\r\n  \"cola\":{animate:true},\r\n  \"cose-bilkent\":{animate:true},\r\n  \"dagre\":{rankDir:\"LR\",animate:true,nodeDimensionsIncludeLabels: true},\r\n}\r\n\r\nclass CustomDot extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.elements = props.args.elements\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      data:this.props.data,\r\n    })\r\n    this.setUpListeners()\r\n  }  \r\n\r\n  setUpListeners = () => {\r\n    this.cy.on('click', 'node', (event) => {\r\n      // this.props.onClick(event.target._private.data[\"label\"])\r\n      // console.log(event.target)\r\n      Streamlit.setComponentValue([event.target._private.data[\"label\"], this.elements])\r\n    })\r\n  }\r\n\r\n  render() {\r\n    Streamlit.setFrameHeight('600px')\r\n    const layout = { name: 'cose-bilkent' };\r\n \r\n    return (\r\n      <>\r\n        <CytoscapeComponent \r\n        cy={(cy) => {this.cy = cy;}}        \r\n        elements={CytoscapeComponent.normalizeElements(this.elements)}\r\n        layout={layout}\r\n        style={ { width: '100%', height: '550px' } } \r\n        stylesheet={[\r\n          {\r\n            selector: 'node',\r\n            style: {width: 40,height: 40,shape: 'ellipse',label: 'data(id)'}\r\n          },\r\n          {\r\n            selector: 'node[img]',\r\n            style: {'background-image':'data(img)','background-fit': 'cover',\"border-width\":3}//\"https://live.staticflickr.com/7272/7633179468_3e19e45a0c_b.jpg\"}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"SPECIES\"]',\r\n            style: {'background-color': '#fb2056',\"border-color\":'#fb2056'}//\"https://live.staticflickr.com/7272/7633179468_3e19e45a0c_b.jpg\"}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"GENUS\"]',\r\n            style: {'background-color': '#fc8f5b','border-color': '#fc8f5b'}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"FAMILY\"]',\r\n            style: {'background-color': '#ffd055','border-color': '#ffd055'}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"ORDER\"]',\r\n            style: {'background-color': '#8dd58c','border-color': '#8dd58c'}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"CLASS\"]',\r\n            style: {'background-color': '#38c9b1'}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"PHYLUM\"]',\r\n            style: {'background-color': '#1798c3'}\r\n          },  \r\n          {\r\n            selector: 'node[rank=\"KINGDOM\"]',\r\n            style: {shape: 'rectangle','background-color': '#182573'}\r\n          }, \r\n          {\r\n            selector: 'node[rank=\"FUNCTION\"]',\r\n            style: {shape: 'triangle','background-color': '#F7E7CE'}\r\n          }, \r\n          {\r\n            selector: 'node[rank=\"PAPER\"]',\r\n            style: {shape: 'rectangle','background-color': '#AFDCEC'}\r\n          }, \r\n          {\r\n            selector: 'edge',\r\n            style: {\r\n              width:1,\r\n            }\r\n          },  \r\n        ]}        \r\n        /> \r\n      </>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nexport default withStreamlitConnection(CustomDot)","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport CustomDot from \"./CustomDot\"\r\n\r\n// Lots of import to define a Styletron engine and load the light theme of baseui\r\nimport { Client as Styletron } from \"styletron-engine-atomic\"\r\nimport { Provider as StyletronProvider } from \"styletron-react\"\r\nimport { ThemeProvider, LightTheme } from \"baseui\"\r\n\r\nconst engine = new Styletron()\r\n\r\n// Wrap your CustomSlider with the baseui them\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StyletronProvider value={engine}>\r\n      <ThemeProvider theme={LightTheme}>\r\n        <CustomDot />\r\n      </ThemeProvider>\r\n    </StyletronProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}